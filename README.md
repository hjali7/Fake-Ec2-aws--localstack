# ğŸ–¥ï¸ Fake EC2 on AWS (with LocalStack + Docker + Nginx)

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø² Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ EC2 Ø¯Ø± AWS Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Docker Ùˆ LocalStack Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡.
Ù‡Ø¯Ù Ø§ÛŒÙ†Ù‡ Ú©Ù‡ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ØªØµØ§Ù„ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ù‡ AWSØŒ Ø¨ØªÙˆÙ†ÛŒ Ø±ÙØªØ§Ø± ÛŒÚ© EC2 ÙˆØ§Ù‚Ø¹ÛŒ Ø±Ùˆ Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ AWS Ù…Ø«Ù„ S3 ØªØ¬Ø±Ø¨Ù‡ Ú©Ù†ÛŒ.

---

## ğŸ“¦ Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ØŸ

âœ… Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ ÛŒÚ© Ú©Ø§Ù†ØªÛŒÙ†Ø± Ú©Ù‡ Ù†Ù‚Ø´ EC2 Ø±Ùˆ Ø¨Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù‡  
âœ… Ù†ØµØ¨ Nginx Ø¯Ø§Ø®Ù„ Ø§ÛŒÙ† EC2 ÙÛŒÚ©  
âœ… Ø§ØªØµØ§Ù„ Ø§ÛŒÙ† Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¨Ù‡ LocalStack Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† AWS Ù„ÙˆÚ©Ø§Ù„  
âœ… Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ HTML Ø§Ø² Ø³Ø±ÙˆÛŒØ³ S3 Ù„ÙˆÚ©Ø§Ù„ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø§ÙˆÙ† Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±  
âœ… Ø§Ø¬Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª `init.sh` Ø¯Ø± Ù„Ø­Ø¸Ù‡ Ø¨ÙˆØª Ú©Ø§Ù†ØªÛŒÙ†Ø± (Ù…Ø«Ù„ user-data Ø¯Ø± EC2 ÙˆØ§Ù‚Ø¹ÛŒ)  
âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Basic Auth Ø±ÙˆÛŒ Nginx Ø¨Ø±Ø§ÛŒ Ø­ÙØ§Ø¸Øª Ø§Ø² Ø¯Ø³ØªØ±Ø³ÛŒ  
âœ… Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø³Ù„Ø§Ù…Øª (healthcheck) Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ Nginx

---

## ğŸ§± Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

```
fake-ec2-nginx/
â”‚
â”œâ”€â”€ html/                   â† Ù…Ø­ØªÙˆØ§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ S3
â”‚   â””â”€â”€ index.html
â”‚
â”œâ”€â”€ init.sh                 â† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø² EC2 (Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ø§Ø² S3 Ùˆ Ø§Ø¬Ø±Ø§ÛŒ nginx)
â”œâ”€â”€ Dockerfile              â† Ø§ÛŒÙ…ÛŒØ¬ Ú©Ø§Ø³ØªÙˆÙ… Ø¨Ø± Ù¾Ø§ÛŒÙ‡ nginx:alpine
â”œâ”€â”€ docker-compose.yml      â† Ø§Ø¬Ø±Ø§ÛŒ EC2 Ùˆ Ø§ØªØµØ§Ù„ Ø¨Ù‡ LocalStack
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf          â† Ú©Ø§Ù†ÙÛŒÚ¯ Ú©Ø§Ù…Ù„ Nginx Ø´Ø§Ù…Ù„ auth Ùˆ routing
â”œâ”€â”€ .gitignore              â† Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² push ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø³ Ù…Ø«Ù„ .htpasswd
â””â”€â”€ README.md               â† Ø§ÛŒÙ† ÙØ§ÛŒÙ„
```

---

## ğŸš€ Ø§Ø¬Ø±Ø§

### 1. Ø³Ø§Ø®Øª Ø¨Ø§Ú©Øª Ø¯Ø± LocalStack Ùˆ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„

```bash
aws --endpoint-url=http://localhost:4566 s3 mb s3://local-bucket
aws --endpoint-url=http://localhost:4566 s3 cp ./html/index.html s3://local-bucket/index.html
```

---

### 2. Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª

âš ï¸ ÙØ§ÛŒÙ„ `.htpasswd` Ø¹Ù…Ø¯Ø§Ù‹ Ø¯Ø± `.gitignore` Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡. Ø¨Ø±Ø§ÛŒ ØªØ³Øª:

```bash
htpasswd -c .htpasswd hajali
```

Ù¾Ø³ÙˆØ±Ø¯ Ø±Ø§ Ù…Ø«Ù„Ø§Ù‹ `alihji` Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡.

---

### 3. Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

```bash
docker compose up -d --build
```

---

### 4. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªÛŒØ¬Ù‡

Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø¨Ø±Ùˆ Ø¨Ù‡:

```
http://localhost:8080
```

ğŸ” Ø¨Ø§ÛŒØ¯ Ù¾Ù†Ø¬Ø±Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø¨ÛŒØ§Ø¯.  
Ø¨Ø§ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ùˆ Ù¾Ø³ÙˆØ±Ø¯ ÙˆØ§Ø±Ø¯ Ø´Ùˆ Ùˆ Ù…Ø­ØªÙˆØ§ÛŒ HTML Ø±Ø§ Ø¨Ø¨ÛŒÙ†.

---

## ğŸ” Ù†Ú©Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ

- ÙØ§ÛŒÙ„ `.htpasswd` Ø¯Ø± git Ù‚Ø±Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ (Ø¯Ø± `.gitignore`)
- Nginx Ø¨Ø§ auth Ùˆ deny Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø³ Ù…Ø­Ø§ÙØ¸Øª Ø´Ø¯Ù‡
- Ù…Ø³ÛŒØ± Ø§ØµÙ„ÛŒ `/` Ù†ÛŒØ§Ø² Ø¨Ù‡ ÙˆØ±ÙˆØ¯ Ø¯Ø§Ø±Ø¯

---

## ğŸ§  Ø§ÛŒØ¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¨ÛŒØ´ØªØ±

- Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† CI/CD Script (ÙØ§Ø² Ø¨Ø¹Ø¯ÛŒ)
- Ø§ØªØµØ§Ù„ Ø¨Ù‡ Lambda Ùˆ DynamoDB
- Ø³Ø§Ø®Øª ØµÙØ­Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ùˆ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø³Ø§Ø¯Ù‡
- Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† HTTPS Ø¨Ø§ Let's Encrypt

---

## ğŸ¤ Ù…Ø´Ø§Ø±Ú©Øª

Ø§Ú¯Ø± Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÛŒ Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ú¯Ø³ØªØ±Ø´ Ø¨Ø¯ÛŒØŒ Pull Request Ø¨ÙØ±Ø³Øª.  
ÛŒØ§ issue Ø¨Ø§Ø² Ú©Ù† ØªØ§ Ø¨Ø§ Ù‡Ù… Ø§Ø±ØªÙ‚Ø§Ø´ Ø¨Ø¯ÛŒÙ… ğŸ’ª

---

## ğŸ“‡ Ù„Ø§ÛŒØ³Ù†Ø³

MIT License

---

> Ø³Ø§Ø®ØªÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ ØªÙˆØ³Ø· [@hjali7](https://github.com/hjali7)